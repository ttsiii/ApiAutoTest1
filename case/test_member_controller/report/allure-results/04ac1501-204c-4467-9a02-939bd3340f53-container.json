{"uuid": "f831fd5e-b3d5-4d15-ae7c-0e70f919416d", "children": ["c083576c-4894-4556-b82a-c68e63983a1e", "7677e67b-e4aa-48e3-9f5a-3bb7345e245a", "efee0416-61c4-48ac-8b60-5b00ac9733e0", "7d70effd-4cf5-4b65-b963-a723819a351c"], "befores": [{"name": "ls_login", "status": "broken", "statusDetails": {"message": "requests.exceptions.ProxyError: HTTPConnectionPool(host='127.0.0.1', port=8888): Max retries exceeded with url: http://121.37.169.128:8201/mall-member/sso/login?platform=test&time=1633845069547&password=123456&username=admin1 (Caused by ProxyError('Cannot connect to proxy.', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None)))\n", "trace": "  File \"D:\\ruanjian\\python\\lib\\site-packages\\pluggy\\callers.py\", line 187, in _multicall\n    res = hook_impl.function(*args)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\_pytest\\fixtures.py\", line 1126, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\_pytest\\fixtures.py\", line 932, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\case\\conftest.py\", line 48, in ls_login\n    return login_ls(lisi_info,'lisi_token')\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\common\\logintoken.py\", line 62, in login_ls\n    return Login(admin_info,ls_token)\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\common\\logintoken.py\", line 25, in __init__\n    result = self.admin_login()\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\allure_commons\\_allure.py\", line 157, in impl\n    return func(*a, **kw)\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\common\\logintoken.py\", line 42, in admin_login\n    return self.login(username=self.username, password=self.password)\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\common\\logintoken.py\", line 56, in login\n    return self.send(url,method=\"post\")\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\api\\client.py\", line 31, in send\n    result =  requests.post(url,data = json.dumps(body),headers=headers)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\api.py\", line 116, in post\n    return request('post', url, data=data, json=json, **kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\api.py\", line 60, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\sessions.py\", line 524, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\sessions.py\", line 637, in send\n    r = adapter.send(request, **kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\adapters.py\", line 510, in send\n    raise ProxyError(e, request=request)\n"}, "steps": [{"name": "admin账号登录", "status": "broken", "statusDetails": {"message": "requests.exceptions.ProxyError: HTTPConnectionPool(host='127.0.0.1', port=8888): Max retries exceeded with url: http://121.37.169.128:8201/mall-member/sso/login?platform=test&time=1633845069547&password=123456&username=admin1 (Caused by ProxyError('Cannot connect to proxy.', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None)))\n", "trace": "  File \"D:\\ruanjian\\python\\lib\\site-packages\\allure_commons\\_allure.py\", line 157, in impl\n    return func(*a, **kw)\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\common\\logintoken.py\", line 42, in admin_login\n    return self.login(username=self.username, password=self.password)\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\common\\logintoken.py\", line 56, in login\n    return self.send(url,method=\"post\")\n  File \"D:\\daima\\xin-daima\\two-pytest-api-automation\\api\\client.py\", line 31, in send\n    result =  requests.post(url,data = json.dumps(body),headers=headers)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\api.py\", line 116, in post\n    return request('post', url, data=data, json=json, **kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\api.py\", line 60, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\sessions.py\", line 524, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\sessions.py\", line 637, in send\n    r = adapter.send(request, **kwargs)\n  File \"D:\\ruanjian\\python\\lib\\site-packages\\requests\\adapters.py\", line 510, in send\n    raise ProxyError(e, request=request)\n"}, "start": 1633845069547, "stop": 1633845089107}], "start": 1633845069547, "stop": 1633845089113}, {"name": "ls_login", "status": "passed", "steps": [{"name": "admin账号登录", "status": "passed", "steps": [{"name": "响应日志", "status": "passed", "parameters": [{"name": "status_code", "value": "200"}, {"name": "text", "value": "{'code': 200, 'message': '操作成功', 'data': {'token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbjEiLCJzY29wZSI6WyJhbGwiXSwiaWQiOjI0MzQ1MjYsImV4cCI6MTYzMzkzMTQ5MCwiYXV0aG9yaXRpZXMiOlsi5YmN5Y-w5Lya5ZGYIl0sImp0aSI6ImMyZjFmMmIxLWM4NDItNDQ2Yi04MTQxLTk0ZmExZjc1YzVhYyIsImNsaWVudF9pZCI6InBvcnRhbC1hcHAifQ.N3BpW91GCol4v5_NYmvm5Vkh1hYHj8_dQxQ8_sZYDqLOwNfesWoFipvu8C934169Jt3n0paNv3WlfqWkiN6kKNYv5HyzIkgSCQ6CyEU5JTfyj8c28V6V1q1XikxnV8jxe7phi5Bpet5e3NJFhxShpyifDs02IS1QFHO7LOpHIn0', 'refreshToken': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbjEiLCJzY29wZSI6WyJhbGwiXSwiYXRpIjoiYzJmMWYyYjEtYzg0Mi00NDZiLTgxNDEtOTRmYTFmNzVjNWFjIiwiaWQiOjI0MzQ1MjYsImV4cCI6MTYzNDQ0OTg5MCwiYXV0aG9yaXRpZXMiOlsi5YmN5Y-w5Lya5ZGYIl0sImp0aSI6IjQ0YmFjODMzLWJkOGItNGVjOC1iZTU4LWMwOWVlZDY0MjBmYyIsImNsaWVudF9pZCI6InBvcnRhbC1hcHAifQ.BvpQqvPFFRZlqdkCXuareEmuhwdt73pIJ8-0VbiEEwZS4vFIEC4rG1gHZ-EyX9AwXM2xXihrCMtCGSkKIZHj21DQxgdmw__KViWJZHyL5ao7kqf9bPihJXbjqjxJouK7mdu0tkcgJhqftaBr7EEVXEzEHVZxorp_dAJxrJdd-yw', 'tokenHead': 'Bearer ', 'expiresIn': 86399}}"}], "start": 1633845090301, "stop": 1633845090301}, {"name": "请求日志", "status": "passed", "parameters": [{"name": "url", "value": "'http://121.37.169.128:8201/mall-member/sso/login?platform=test&time=1633845090248&password=123456&username=admin1'"}, {"name": "method", "value": "'post'"}, {"name": "body", "value": "{}"}, {"name": "headers", "value": "{'Content-Type': 'application/json'}"}], "start": 1633845090301, "stop": 1633845090301}], "start": 1633845090248, "stop": 1633845090301}], "start": 1633845090248, "stop": 1633845090302}], "start": 1633845090248, "stop": 1633845090439}